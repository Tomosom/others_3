文件类型

■ Qt中讲文件类型分为2大类
-文本文件
•文件内容是可读的文本字符
-数据文件
•文件内容是直接的二进制数据


■ QFile直接支持文本文件和数据文件的读写
一 qint64 read(char* data, qint64 maxSize)
-QByteArray read(qint64 maxSize)
-qint64 write(const char* data, qint64 maxSize)
-qint64 write(const QByteArray& byteArray)

思考
如何将一T浮点数据写入文本文件和数据文件？

编程实验 直接使用QFile读写 

文本流和数据流
■ Qt提供辅助类简化了文本文件/数据文件的读写
-QTextStream
•写入的数据全部转换为可读文本
-QDataStream
•写入的数据根据类型转换为二进制数据

■ 10设备辅助类的使用方式
// 1•创建QFile文件对象file
// 2 •使用file对象打开文件
// 3•撥雕写入文件
QXXXXStream out(&file);
out « QString( TTD. T. Software");
out « QString("Result: ”） « 3*14;
// 将数1居从文件中读出
QXXXXStream in(&file);
in » dt; I I QString dt;
in » reslut; // QString result;
in » value; // double value;


编程实验 使用文件辅助类读写

# 数据流文件的版本信息

■不同Qt版本的数据流文件格式可能不同
-void setVersion(int v) // 设置读写版本号
-intversion() const //获取读写版本号
当数据流文件可能在不同版本的Qt程
序间传递数据时，需要考虑版本问题！


小结
■ Qt中的文件辅助类用于方便读写操作
■ QTextStream用于文本数据的快速读写
■ QDataStream用于二进制数据的快速读写
■ QDataStream的文件格式与Qt版本相关
■数据格式文件在程序间传递时，需要考虑版本问题